<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>web3 맛보기</title>
    <script src="https://cdn.jsdelivr.net/npm/web3@1.10.0/dist/web3.min.js"></script>
  </head>
  <body></body>
  <script>
    // web3.js
    // Ganache 사용
    // npm install -g ganache-cli
    // 실행 명렁어
    // npx ganache-cli

    // web3로 어떤 네트워크로 요청할건지 지정
    const web3 = new Web3("http://127.0.0.1:8545");
    // 계정정보 가져오기
    web3.eth.getAccounts().then(console.log);
    // 계정 잔액 조회
    // wei라는 단위로 출력 10의 18 제곱으로 측정
    // 가스비 연산을 사용하기 위해 사용됨
    web3.eth
      .getBalance("0xf86C031a7E782826bA6E4f366DBdeAd32Bd84Bc2")
      .then((data) => {
        console.log(data); // wei 단위로 출력
        const value = web3.utils.fromWei(data); // 단위 변환
        console.log(value);
      });
  </script>
</html>
